<% include ./partials/header.ejs %>

  <script src="/javascripts/face-api.min.js"></script>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
        width: 100%;
        height: 100%;
        overflow: hidden;
    };
    #video {
      height: auto;
      border: 2px solid #333;
    }

    canvas {
      position: absolute;
    }
    .student{
        display: none;
    }
  </style>
  <div class="flex justify-center items-center">
    <div class="bg-white mt-8 rounded-lg">
      <video id="video" autoplay muted></video>
      <div class="flex justify-center items-center mt-2">
        <button type="button" class="bg-blue-500 text-white px-4 py-2 rounded-md" onclick="stopVideo()">Stop</button>
        <a href="/facultydashboard">
          <button type="button" class="bg-gray-500 text-white px-4 py-2 rounded-md ml-4">Back</button>
        </a>
      </div>
    </div>
  </div>

  <% students.forEach((student, index) => { %>
    <div class="student">
      <h3><%= index + 1 %>. <%= student.name %></h3>
      <p>Enrollment No: <%= student.enrollmentNo %></p>
      <div class="student-images">
        <% student.images.forEach((image) => { %>
          <img src="<%= image.imagePath %>" alt="Student Image">
        <% }); %>
      </div>
    </div>
  <% }); %>

  <script src="/javascripts/faceDetection.js"></script>

<% include ./partials/footer.ejs %>